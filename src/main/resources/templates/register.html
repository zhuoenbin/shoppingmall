<!DOCTYPE html>
<html   lang="en" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户注册</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("#registerForm").submit(function(event){
                // 阻止表单默认提交行为
                event.preventDefault();

                // 获取表单数据
                var formData = {
                    lastName: $("#lastName").val(),
                    firstName: $("#firstName").val(),
                    email: $("#email").val(),
                    password: $("#password").val()
                };

                // 发送Ajax请求
                $.ajax({
                    type: "POST",
                    contentType: "application/json",
                    url: "/register",
                    data: JSON.stringify(formData),
                    dataType: 'json',
                    success: function (data) {
                        alert("注册成功！");
                        // 清空表单
                        $("#lastName").val("");
                        $("#firstName").val("");
                        $("#email").val("");
                        $("#password").val("");
                    },
                    error: function (e) {
                        alert("注册失败，请稍后再试！");
                        console.log("Error:", e);
                    }
                });
            });
        });
    </script>
</head>
<body>
<h2>用户注册</h2>
<form id="registerForm">
    <div>
        <label for="lastName">姓:</label>
        <input type="text" id="lastName" name="lastName" required>
    </div>
    <div>
        <label for="firstName">名:</label>
        <input type="text" id="firstName" name="firstName" required>
    </div>
    <div>
        <label for="email">邮箱:</label>
        <input type="email" id="email" name="email" required>
    </div>
    <div>
        <label for="password">密码:</label>
        <input type="password" id="password" name="password" required>
    </div>
    <button type="submit">注册</button>
</form>
</body>
</html>